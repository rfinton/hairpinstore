<form [formGroup]="shippingInfo" (ngSubmit)="onSubmit($event)" class="mt-5 pb-5">
	<fieldset>
		<div class="d-flex justify-content-between align-items-center">
			<h3 class="text-white">Review Cart Items:</h3>
			<div class="d-flex gap-5 align-items-center">
				<p class="text-white mb-0">Total Count: {{ totalItems }}</p>
				<p class="text-white mb-0">SubTotal: {{ totalPrice | currency }}</p>
			</div>
		</div>
		<hr>
		<div *ngFor="let item of cartService.cartItems$ | async; trackBy: trackById" class="cart-items d-flex gap-3 align-items-center mt-4">
			<div class="change-quantity">
				<div><button type="button" class="btn btn-dark" (click)="decrementQuantity(item)">&lt;</button></div>
				<div><span>{{ item.quantity }}</span></div>
				<div><button type="button" class="btn btn-dark" (click)="incrementQuantity(item)">&gt;</button></div>
			</div>
			<div>
				<img width="90" height="" [src]="'assets/images/products/bp-black-50-main.png'" class="img-fluid"
					alt="{{ item.name }}">
			</div>
			<div>
				<h5 class="text-white h6" style="font-weight: 900;">{{ item.name }}</h5>
				<p class="text-white mb-0">Unit Price: {{ item.price | currency }}</p>
			</div>
			<div class="d-flex align-items-center justify-content-end flex-grow-1">
				<div class="btn btn-sm btn-danger remove-item" (click)="removeItem(item)">Remove</div>
			</div>
		</div>
	</fieldset>

	<fieldset id="contact-info">
		<legend class="mb-0">Contact Info:</legend>
		<div class="form-floating mt-5 mb-3">
			<input type="email" class="form-control" id="email" placeholder="Enter Email" formControlName="email">
			<label for="email">Email address</label>
		</div>
		<div class="form-floating mb-3">
			<input type="text" class="form-control" id="fullname" placeholder="Enter full name" autocomplete="off"
				formControlName="fullname">
			<label for="fullname">Full Name</label>
		</div>
		<div>
			<label class="col-form-label text-white" for="address">Street Address</label>
			<input type="text" class="form-control" id="address" formControlName="address">
		</div>
		<div class="row">
			<div class="col">
				<label for="city" class="text-white form-label mt-4">City</label>
				<input type="text" class="form-control" id="city" formControlName="city">
			</div>
			<div class="col">
				<label for="state" class="text-white form-label mt-4">State</label>
				<select class="form-select" id="state" formControlName="state">
					<option value="" selected disabled>Select a state</option>
					<option value="AL">Alabama</option>
					<option value="AK">Alaska</option>
					<option value="AZ">Arizona</option>
					<option value="AR">Arkansas</option>
					<option value="CA">California</option>
					<option value="CO">Colorado</option>
					<option value="CT">Connecticut</option>
					<option value="DE">Delaware</option>
					<option value="FL">Florida</option>
					<option value="GA">Georgia</option>
					<option value="HI">Hawaii</option>
					<option value="ID">Idaho</option>
					<option value="IL">Illinois</option>
					<option value="IN">Indiana</option>
					<option value="IA">Iowa</option>
					<option value="KS">Kansas</option>
					<option value="KY">Kentucky</option>
					<option value="LA">Louisiana</option>
					<option value="ME">Maine</option>
					<option value="MD">Maryland</option>
					<option value="MA">Massachusetts</option>
					<option value="MI">Michigan</option>
					<option value="MN">Minnesota</option>
					<option value="MS">Mississippi</option>
					<option value="MO">Missouri</option>
					<option value="MT">Montana</option>
					<option value="NE">Nebraska</option>
					<option value="NV">Nevada</option>
					<option value="NH">New Hampshire</option>
					<option value="NJ">New Jersey</option>
					<option value="NM">New Mexico</option>
					<option value="NY">New York</option>
					<option value="NC">North Carolina</option>
					<option value="ND">North Dakota</option>
					<option value="OH">Ohio</option>
					<option value="OK">Oklahoma</option>
					<option value="OR">Oregon</option>
					<option value="PA">Pennsylvania</option>
					<option value="RI">Rhode Island</option>
					<option value="SC">South Carolina</option>
					<option value="SD">South Dakota</option>
					<option value="TN">Tennessee</option>
					<option value="TX">Texas</option>
					<option value="UT">Utah</option>
					<option value="VT">Vermont</option>
					<option value="VA">Virginia</option>
					<option value="WA">Washington</option>
					<option value="WV">West Virginia</option>
					<option value="WI">Wisconsin</option>
					<option value="WY">Wyoming</option>
				</select>
			</div>
			<div class="col">
				<label for="zip" class="text-white form-label mt-4">Zip</label>
				<input type="text" class="form-control" id="zip" formControlName="zip">
			</div>
		</div>
	</fieldset>

	<fieldset>
		<div #paymentElement class="payment-element"></div>
		<button type="submit" class="btn btn-primary">Pay {{ totalPrice | currency }}</button>
	</fieldset>
</form>